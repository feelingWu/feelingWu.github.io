<!DOCTYPE HTML>
<html lang="zh-Hans">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(Âõõ), TANGUO STORE">
    <meta name="description" content="
ÈùûÂéüÂàõÂõæÊñá,ÂõæÊñáÊù•Ê∫ê‰∫éÈªëÈ©¨ÂÆòÁΩë,Ê≠§Â§Ñ‰ªÖ‰Ωú‰∏∫Â§á‰ªΩÂ≠¶‰π†


MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñÊÄªÊ¶Ç


ÁªÑÂêàÊã≥Ôºà‰∏ÄÔºâ
ÁªÑÂêàÊã≥Ôºà‰∫åÔºâ
ÁªÑÂêàÊã≥Ôºà‰∏âÔºâ
üö©ÁªÑÂêàÊã≥ÔºàÂõõÔºâ




Á¥¢Âºï
‰ΩìÁ≥ªÁªìÊûÑ
Â∫îÁî®‰ºòÂåñ
MySQL Â∏∏Áî®Â∑•ÂÖ∑


ËßÜÂõæ
Â≠òÂÇ®ÂºïÊìé
Êü•ËØ¢ÁºìÂ≠ò‰ºòÂåñ
M">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(Âõõ) | TANGUO STORE</title>
    <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/medias/caihong32.ico">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/cais.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">TANGUO STORE</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">

      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>Contact</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/about">
          
          <i class="fas fa-user-circle" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÊµãËØïÊ†áÈ¢ò1</span>
        </a>
      </li>
      
      <li>
        <a href="/archives">
          
          <i class="fas fa-archive" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>ÊµãËØïÊ†áÈ¢ò2</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/cais.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">TANGUO STORE</div>
        <div class="logo-desc">
            
            Life was like a box of chocolates, you never know what you‚Äôre gonna get.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-comments"></i>
			
			Contact
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/about " style="margin-left:75px";>
				  
				   <i class="fa fas fa-user-circle" style="position: absolute;left:50px" ></i>
			      
		          <span>ÊµãËØïÊ†áÈ¢ò1</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/archives " style="margin-left:75px";>
				  
				   <i class="fa fas fa-archive" style="position: absolute;left:50px" ></i>
			      
		          <span>ÊµãËØïÊ†áÈ¢ò2</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/feelingWu/feelingWu.github.io" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/feelingWu/feelingWu.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('ËØ∑ËæìÂÖ•ËÆøÈóÆÊú¨ÊñáÁ´†ÁöÑÂØÜÁ†Å')).toString(CryptoJS.enc.Hex)) {
                alert('ÂØÜÁ†ÅÈîôËØØÔºåÂ∞ÜËøîÂõû‰∏ªÈ°µÔºÅ');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/cover/')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(Âõõ)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- ÊñáÁ´†ÂÜÖÂÆπËØ¶ÊÉÖ -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥-Âõõ/">
                                <span class="chip bg-color">MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(Âõõ)</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Êï∞ÊçÆÂ∫ì/" class="post-category">
                                Êï∞ÊçÆÂ∫ì
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-01-23
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                        3.8k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                        14 Min
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <blockquote>
<p>ÈùûÂéüÂàõÂõæÊñá,ÂõæÊñáÊù•Ê∫ê‰∫éÈªëÈ©¨ÂÆòÁΩë,Ê≠§Â§Ñ‰ªÖ‰Ωú‰∏∫Â§á‰ªΩÂ≠¶‰π†</p>
</blockquote>
<a id="more"></a>
<h2 id="MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñÊÄªÊ¶Ç"><a href="#MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñÊÄªÊ¶Ç" class="headerlink" title="MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñÊÄªÊ¶Ç"></a>MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñÊÄªÊ¶Ç</h2><table>
<thead>
<tr>
<th>ÁªÑÂêàÊã≥Ôºà‰∏ÄÔºâ</th>
<th>ÁªÑÂêàÊã≥Ôºà‰∫åÔºâ</th>
<th>ÁªÑÂêàÊã≥Ôºà‰∏âÔºâ</th>
<th>üö©ÁªÑÂêàÊã≥ÔºàÂõõÔºâ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Á¥¢Âºï</td>
<td>‰ΩìÁ≥ªÁªìÊûÑ</td>
<td>Â∫îÁî®‰ºòÂåñ</td>
<td>MySQL Â∏∏Áî®Â∑•ÂÖ∑</td>
</tr>
<tr>
<td>ËßÜÂõæ</td>
<td>Â≠òÂÇ®ÂºïÊìé</td>
<td>Êü•ËØ¢ÁºìÂ≠ò‰ºòÂåñ</td>
<td>MySQL Êó•Âøó</td>
</tr>
<tr>
<td>Â≠òÂÇ®ËøáÁ®ãÂíåÂáΩÊï∞</td>
<td>‰ºòÂåñSQLÊ≠•È™§</td>
<td>ÂÜÖÂ≠òÁÆ°ÁêÜÂèä‰ºòÂåñ</td>
<td>MySQL ‰∏ª‰ªéÂ§çÂà∂</td>
</tr>
<tr>
<td>Ëß¶ÂèëÂô®</td>
<td>Á¥¢Âºï‰ΩøÁî®</td>
<td>MySQLÈîÅÈóÆÈ¢ò</td>
<td></td>
</tr>
<tr>
<td></td>
<td>SQL‰ºòÂåñ</td>
<td>Â∏∏Áî®SQLÊäÄÂ∑ß</td>
</tr>
</tbody>
</table>
<h3 id="1-MySql‰∏≠Â∏∏Áî®Â∑•ÂÖ∑"><a href="#1-MySql‰∏≠Â∏∏Áî®Â∑•ÂÖ∑" class="headerlink" title="1. MySql‰∏≠Â∏∏Áî®Â∑•ÂÖ∑"></a>1. MySql‰∏≠Â∏∏Áî®Â∑•ÂÖ∑</h3><h4 id="1-1-mysql"><a href="#1-1-mysql" class="headerlink" title="1.1 mysql"></a>1.1 mysql</h4><p>ËØ•mysql‰∏çÊòØÊåámysqlÊúçÂä°ÔºåËÄåÊòØÊåámysqlÁöÑÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑„ÄÇ</p>
<p>ËØ≠Ê≥ï Ôºö</p>
<pre><code>mysql [options] [database]
</code></pre><h5 id="1-1-1-ËøûÊé•ÈÄâÈ°π"><a href="#1-1-1-ËøûÊé•ÈÄâÈ°π" class="headerlink" title="1.1.1 ËøûÊé•ÈÄâÈ°π"></a>1.1.1 ËøûÊé•ÈÄâÈ°π</h5><pre><code>ÂèÇÊï∞ Ôºö 
    -u, --user=name            ÊåáÂÆöÁî®Êà∑Âêç
    -p, --password[=name]    ÊåáÂÆöÂØÜÁ†Å
    -h, --host=name            ÊåáÂÆöÊúçÂä°Âô®IPÊàñÂüüÂêç
    -P, --port=#            ÊåáÂÆöËøûÊé•Á´ØÂè£

Á§∫‰æã Ôºö
    mysql -h 127.0.0.1 -P 3306 -u root -p

    mysql -h127.0.0.1 -P3306 -uroot -p2143

</code></pre><h5 id="1-1-2-ÊâßË°åÈÄâÈ°π"><a href="#1-1-2-ÊâßË°åÈÄâÈ°π" class="headerlink" title="1.1.2 ÊâßË°åÈÄâÈ°π"></a>1.1.2 ÊâßË°åÈÄâÈ°π</h5><pre><code>-e, --execute=name        ÊâßË°åSQLËØ≠Âè•Âπ∂ÈÄÄÂá∫
</code></pre><p>Ê≠§ÈÄâÈ°πÂèØ‰ª•Âú®MysqlÂÆ¢Êà∑Á´ØÊâßË°åSQLËØ≠Âè•ÔºåËÄå‰∏çÁî®ËøûÊé•Âà∞MySQLÊï∞ÊçÆÂ∫ìÂÜçÊâßË°åÔºåÂØπ‰∫é‰∏Ä‰∫õÊâπÂ§ÑÁêÜËÑöÊú¨ÔºåËøôÁßçÊñπÂºèÂ∞§ÂÖ∂Êñπ‰æø„ÄÇ</p>
<pre><code>Á§∫‰æãÔºö
    mysql -uroot -p2143 db01 -e "select * from tb_book";
</code></pre><p><img src="/2021/01/23/mysql-advanced-4/1555325632715.png" alt="1555325632715"> </p>
<h4 id="1-2-mysqladmin"><a href="#1-2-mysqladmin" class="headerlink" title="1.2 mysqladmin"></a>1.2 mysqladmin</h4><p>mysqladmin ÊòØ‰∏Ä‰∏™ÊâßË°åÁÆ°ÁêÜÊìç‰ΩúÁöÑÂÆ¢Êà∑Á´ØÁ®ãÂ∫è„ÄÇÂèØ‰ª•Áî®ÂÆÉÊù•Ê£ÄÊü•ÊúçÂä°Âô®ÁöÑÈÖçÁΩÆÂíåÂΩìÂâçÁä∂ÊÄÅ„ÄÅÂàõÂª∫Âπ∂Âà†Èô§Êï∞ÊçÆÂ∫ìÁ≠â„ÄÇ</p>
<p>ÂèØ‰ª•ÈÄöËøá Ôºö mysqladmin ‚Äìhelp  Êåá‰ª§Êü•ÁúãÂ∏ÆÂä©ÊñáÊ°£</p>
<p><img src="/2021/01/23/mysql-advanced-4/1555326108697.png" alt="1555326108697"> </p>
<pre><code>Á§∫‰æã Ôºö
    mysqladmin -uroot -p2143 create 'test01';  
    mysqladmin -uroot -p2143 drop 'test01';
    mysqladmin -uroot -p2143 version;

</code></pre><h4 id="1-3-mysqlbinlog"><a href="#1-3-mysqlbinlog" class="headerlink" title="1.3 mysqlbinlog"></a>1.3 mysqlbinlog</h4><p>Áî±‰∫éÊúçÂä°Âô®ÁîüÊàêÁöÑ‰∫åËøõÂà∂Êó•ÂøóÊñá‰ª∂‰ª•‰∫åËøõÂà∂Ê†ºÂºè‰øùÂ≠òÔºåÊâÄ‰ª•Â¶ÇÊûúÊÉ≥Ë¶ÅÊ£ÄÊü•Ëøô‰∫õÊñáÊú¨ÁöÑÊñáÊú¨Ê†ºÂºèÔºåÂ∞±‰ºö‰ΩøÁî®Âà∞mysqlbinlog Êó•ÂøóÁÆ°ÁêÜÂ∑•ÂÖ∑„ÄÇ</p>
<p>ËØ≠Ê≥ï Ôºö</p>
<pre><code>mysqlbinlog [options]  log-files1 log-files2 ...

ÈÄâÈ°πÔºö

    -d, --database=name : ÊåáÂÆöÊï∞ÊçÆÂ∫ìÂêçÁß∞ÔºåÂè™ÂàóÂá∫ÊåáÂÆöÁöÑÊï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥Êìç‰Ωú„ÄÇ

    -o, --offset=# : ÂøΩÁï•ÊéâÊó•Âøó‰∏≠ÁöÑÂâçnË°åÂëΩ‰ª§„ÄÇ

    -r,--result-file=name : Â∞ÜËæìÂá∫ÁöÑÊñáÊú¨Ê†ºÂºèÊó•ÂøóËæìÂá∫Âà∞ÊåáÂÆöÊñá‰ª∂„ÄÇ

    -s, --short-form : ÊòæÁ§∫ÁÆÄÂçïÊ†ºÂºèÔºå ÁúÅÁï•Êéâ‰∏Ä‰∫õ‰ø°ÊÅØ„ÄÇ

    --start-datatime=date1  --stop-datetime=date2 : ÊåáÂÆöÊó•ÊúüÈó¥ÈöîÂÜÖÁöÑÊâÄÊúâÊó•Âøó„ÄÇ

    --start-position=pos1 --stop-position=pos2 : ÊåáÂÆö‰ΩçÁΩÆÈó¥ÈöîÂÜÖÁöÑÊâÄÊúâÊó•Âøó„ÄÇ
</code></pre><h4 id="1-4-mysqldump"><a href="#1-4-mysqldump" class="headerlink" title="1.4 mysqldump"></a>1.4 mysqldump</h4><p>mysqldump ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Áî®Êù•Â§á‰ªΩÊï∞ÊçÆÂ∫ìÊàñÂú®‰∏çÂêåÊï∞ÊçÆÂ∫ì‰πãÈó¥ËøõË°åÊï∞ÊçÆËøÅÁßª„ÄÇÂ§á‰ªΩÂÜÖÂÆπÂåÖÂê´ÂàõÂª∫Ë°®ÔºåÂèäÊèíÂÖ•Ë°®ÁöÑSQLËØ≠Âè•„ÄÇ</p>
<p>ËØ≠Ê≥ï Ôºö</p>
<pre><code>mysqldump [options] db_name [tables]

mysqldump [options] --database/-B db1 [db2 db3...]

mysqldump [options] --all-databases/-A
</code></pre><h5 id="1-4-1-ËøûÊé•ÈÄâÈ°π"><a href="#1-4-1-ËøûÊé•ÈÄâÈ°π" class="headerlink" title="1.4.1 ËøûÊé•ÈÄâÈ°π"></a>1.4.1 ËøûÊé•ÈÄâÈ°π</h5><pre><code>ÂèÇÊï∞ Ôºö 
    -u, --user=name            ÊåáÂÆöÁî®Êà∑Âêç
    -p, --password[=name]    ÊåáÂÆöÂØÜÁ†Å
    -h, --host=name            ÊåáÂÆöÊúçÂä°Âô®IPÊàñÂüüÂêç
    -P, --port=#            ÊåáÂÆöËøûÊé•Á´ØÂè£
</code></pre><h5 id="1-4-2-ËæìÂá∫ÂÜÖÂÆπÈÄâÈ°π"><a href="#1-4-2-ËæìÂá∫ÂÜÖÂÆπÈÄâÈ°π" class="headerlink" title="1.4.2 ËæìÂá∫ÂÜÖÂÆπÈÄâÈ°π"></a>1.4.2 ËæìÂá∫ÂÜÖÂÆπÈÄâÈ°π</h5><pre><code>ÂèÇÊï∞Ôºö
    --add-drop-database        Âú®ÊØè‰∏™Êï∞ÊçÆÂ∫ìÂàõÂª∫ËØ≠Âè•ÂâçÂä†‰∏ä Drop database ËØ≠Âè•
    --add-drop-table        Âú®ÊØè‰∏™Ë°®ÂàõÂª∫ËØ≠Âè•ÂâçÂä†‰∏ä Drop table ËØ≠Âè• , ÈªòËÆ§ÂºÄÂêØ ; ‰∏çÂºÄÂêØ (--skip-add-drop-table)

    -n, --no-create-db        ‰∏çÂåÖÂê´Êï∞ÊçÆÂ∫ìÁöÑÂàõÂª∫ËØ≠Âè•
    -t, --no-create-info    ‰∏çÂåÖÂê´Êï∞ÊçÆË°®ÁöÑÂàõÂª∫ËØ≠Âè•
    -d --no-data            ‰∏çÂåÖÂê´Êï∞ÊçÆ

     -T, --tab=name            Ëá™Âä®ÁîüÊàê‰∏§‰∏™Êñá‰ª∂Ôºö‰∏Ä‰∏™.sqlÊñá‰ª∂ÔºåÂàõÂª∫Ë°®ÁªìÊûÑÁöÑËØ≠Âè•Ôºõ
                             ‰∏Ä‰∏™.txtÊñá‰ª∂ÔºåÊï∞ÊçÆÊñá‰ª∂ÔºåÁõ∏ÂΩì‰∫éselect into outfile  
</code></pre><pre><code>Á§∫‰æã Ôºö 
    mysqldump -uroot -p2143 db01 tb_book --add-drop-database --add-drop-table &gt; a

    mysqldump -uroot -p2143 -T /tmp test city
</code></pre><p><img src="/2021/01/23/mysql-advanced-4/1555501806693.png" alt="1555501806693"> </p>
<h4 id="1-5-mysqlimport-source"><a href="#1-5-mysqlimport-source" class="headerlink" title="1.5 mysqlimport/source"></a>1.5 mysqlimport/source</h4><p>mysqlimport ÊòØÂÆ¢Êà∑Á´ØÊï∞ÊçÆÂØºÂÖ•Â∑•ÂÖ∑ÔºåÁî®Êù•ÂØºÂÖ•mysqldump Âä† -T ÂèÇÊï∞ÂêéÂØºÂá∫ÁöÑÊñáÊú¨Êñá‰ª∂„ÄÇ</p>
<p>ËØ≠Ê≥ïÔºö</p>
<pre><code>mysqlimport [options]  db_name  textfile1  [textfile2...]
</code></pre><p>Á§∫‰æãÔºö</p>
<pre><code>mysqlimport -uroot -p2143 test /tmp/city.txt
</code></pre><p>Â¶ÇÊûúÈúÄË¶ÅÂØºÂÖ•sqlÊñá‰ª∂,ÂèØ‰ª•‰ΩøÁî®mysql‰∏≠ÁöÑsource Êåá‰ª§ : </p>
<pre><code>source /root/tb_book.sql
</code></pre><h4 id="1-6-mysqlshow"><a href="#1-6-mysqlshow" class="headerlink" title="1.6 mysqlshow"></a>1.6 mysqlshow</h4><p>mysqlshow ÂÆ¢Êà∑Á´ØÂØπË±°Êü•ÊâæÂ∑•ÂÖ∑ÔºåÁî®Êù•ÂæàÂø´Âú∞Êü•ÊâæÂ≠òÂú®Âì™‰∫õÊï∞ÊçÆÂ∫ì„ÄÅÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®„ÄÅË°®‰∏≠ÁöÑÂàóÊàñËÄÖÁ¥¢Âºï„ÄÇ</p>
<p>ËØ≠Ê≥ïÔºö</p>
<pre><code>mysqlshow [options] [db_name [table_name [col_name]]]
</code></pre><p>ÂèÇÊï∞Ôºö</p>
<pre><code>--count        ÊòæÁ§∫Êï∞ÊçÆÂ∫ìÂèäË°®ÁöÑÁªüËÆ°‰ø°ÊÅØÔºàÊï∞ÊçÆÂ∫ìÔºåË°® ÂùáÂèØ‰ª•‰∏çÊåáÂÆöÔºâ

-i            ÊòæÁ§∫ÊåáÂÆöÊï∞ÊçÆÂ∫ìÊàñËÄÖÊåáÂÆöË°®ÁöÑÁä∂ÊÄÅ‰ø°ÊÅØ
</code></pre><p>Á§∫‰æãÔºö</p>
<pre><code>#Êü•ËØ¢ÊØè‰∏™Êï∞ÊçÆÂ∫ìÁöÑË°®ÁöÑÊï∞ÈáèÂèäË°®‰∏≠ËÆ∞ÂΩïÁöÑÊï∞Èáè
mysqlshow -uroot -p2143 --count

#Êü•ËØ¢testÂ∫ì‰∏≠ÊØè‰∏™Ë°®‰∏≠ÁöÑÂ≠óÊÆµ‰π¶ÔºåÂèäË°åÊï∞
mysqlshow -uroot -p2143 test --count

#Êü•ËØ¢testÂ∫ì‰∏≠bookË°®ÁöÑËØ¶ÁªÜÊÉÖÂÜµ
mysqlshow -uroot -p2143 test book --count

</code></pre><h3 id="2-Mysql-Êó•Âøó"><a href="#2-Mysql-Êó•Âøó" class="headerlink" title="2. Mysql Êó•Âøó"></a>2. Mysql Êó•Âøó</h3><p>Âú®‰ªª‰Ωï‰∏ÄÁßçÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÈÉΩ‰ºöÊúâÂêÑÁßçÂêÑÊ†∑ÁöÑÊó•ÂøóÔºåËÆ∞ÂΩïÁùÄÊï∞ÊçÆÂ∫ìÂ∑•‰ΩúÁöÑÊñπÊñπÈù¢Èù¢Ôºå‰ª•Â∏ÆÂä©Êï∞ÊçÆÂ∫ìÁÆ°ÁêÜÂëòËøΩË∏™Êï∞ÊçÆÂ∫ìÊõæÁªèÂèëÁîüËøáÁöÑÂêÑÁßç‰∫ã‰ª∂„ÄÇMySQL ‰πü‰∏ç‰æãÂ§ñÔºåÂú® MySQL ‰∏≠ÔºåÊúâ 4 Áßç‰∏çÂêåÁöÑÊó•ÂøóÔºåÂàÜÂà´ÊòØÈîôËØØÊó•Âøó„ÄÅ‰∫åËøõÂà∂Êó•ÂøóÔºàBINLOG Êó•ÂøóÔºâ„ÄÅÊü•ËØ¢Êó•ÂøóÂíåÊÖ¢Êü•ËØ¢Êó•ÂøóÔºåËøô‰∫õÊó•ÂøóËÆ∞ÂΩïÁùÄÊï∞ÊçÆÂ∫ìÂú®‰∏çÂêåÊñπÈù¢ÁöÑË∏™Ëøπ„ÄÇ</p>
<h4 id="2-1-ÈîôËØØÊó•Âøó"><a href="#2-1-ÈîôËØØÊó•Âøó" class="headerlink" title="2.1 ÈîôËØØÊó•Âøó"></a>2.1 ÈîôËØØÊó•Âøó</h4><p>ÈîôËØØÊó•ÂøóÊòØ MySQL ‰∏≠ÊúÄÈáçË¶ÅÁöÑÊó•Âøó‰πã‰∏ÄÔºåÂÆÉËÆ∞ÂΩï‰∫ÜÂΩì mysqld ÂêØÂä®ÂíåÂÅúÊ≠¢Êó∂Ôºå‰ª•ÂèäÊúçÂä°Âô®Âú®ËøêË°åËøáÁ®ã‰∏≠ÂèëÁîü‰ªª‰Ωï‰∏•ÈáçÈîôËØØÊó∂ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇÂΩìÊï∞ÊçÆÂ∫ìÂá∫Áé∞‰ªª‰ΩïÊïÖÈöúÂØºËá¥Êó†Ê≥ïÊ≠£Â∏∏‰ΩøÁî®Êó∂ÔºåÂèØ‰ª•È¶ñÂÖàÊü•ÁúãÊ≠§Êó•Âøó„ÄÇ</p>
<p>ËØ•Êó•ÂøóÊòØÈªòËÆ§ÂºÄÂêØÁöÑ Ôºå ÈªòËÆ§Â≠òÊîæÁõÆÂΩï‰∏∫ mysql ÁöÑÊï∞ÊçÆÁõÆÂΩïÔºàvar/lib/mysqlÔºâ, ÈªòËÆ§ÁöÑÊó•ÂøóÊñá‰ª∂Âêç‰∏∫  hostname.errÔºàhostnameÊòØ‰∏ªÊú∫ÂêçÔºâ„ÄÇ</p>
<p>Êü•ÁúãÊó•Âøó‰ΩçÁΩÆÊåá‰ª§ Ôºö </p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'log_error%'</span><span class="token punctuation">;</span>
</code></pre>
<p><img src="/2021/01/23/mysql-advanced-4/1553993244446.png" alt="1553993244446"> </p>
<p>Êü•ÁúãÊó•ÂøóÂÜÖÂÆπ Ôºö </p>
<pre class=" language-shell"><code class="language-shell">tail -f /var/lib/mysql/xaxh-server.err
</code></pre>
<p><img src="/2021/01/23/mysql-advanced-4/1553993537874.png" alt="1553993537874"> </p>
<h4 id="2-2-‰∫åËøõÂà∂Êó•Âøó"><a href="#2-2-‰∫åËøõÂà∂Êó•Âøó" class="headerlink" title="2.2 ‰∫åËøõÂà∂Êó•Âøó"></a>2.2 ‰∫åËøõÂà∂Êó•Âøó</h4><h5 id="2-2-1Ê¶ÇËø∞"><a href="#2-2-1Ê¶ÇËø∞" class="headerlink" title="2.2.1Ê¶ÇËø∞"></a>2.2.1Ê¶ÇËø∞</h5><p>‰∫åËøõÂà∂Êó•ÂøóÔºàBINLOGÔºâËÆ∞ÂΩï‰∫ÜÊâÄÊúâÁöÑ DDLÔºàÊï∞ÊçÆÂÆö‰πâËØ≠Ë®ÄÔºâËØ≠Âè•Âíå DMLÔºàÊï∞ÊçÆÊìçÁ∫µËØ≠Ë®ÄÔºâËØ≠Âè•Ôºå‰ΩÜÊòØ‰∏çÂåÖÊã¨Êï∞ÊçÆÊü•ËØ¢ËØ≠Âè•„ÄÇÊ≠§Êó•ÂøóÂØπ‰∫éÁÅæÈöæÊó∂ÁöÑÊï∞ÊçÆÊÅ¢Â§çËµ∑ÁùÄÊûÅÂÖ∂ÈáçË¶ÅÁöÑ‰ΩúÁî®ÔºåMySQLÁöÑ‰∏ª‰ªéÂ§çÂà∂Ôºå Â∞±ÊòØÈÄöËøáËØ•binlogÂÆûÁé∞ÁöÑ„ÄÇ</p>
<p>‰∫åËøõÂà∂Êó•ÂøóÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÊòØÊ≤°ÊúâÂºÄÂêØÁöÑÔºåÈúÄË¶ÅÂà∞MySQLÁöÑÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂºÄÂêØÔºåÂπ∂ÈÖçÁΩÆMySQLÊó•ÂøóÁöÑÊ†ºÂºè„ÄÇ </p>
<p>ÈÖçÁΩÆÊñá‰ª∂‰ΩçÁΩÆ : /usr/my.cnf</p>
<p>Êó•ÂøóÂ≠òÊîæ‰ΩçÁΩÆ : ÈÖçÁΩÆÊó∂ÔºåÁªôÂÆö‰∫ÜÊñá‰ª∂Âêç‰ΩÜÊòØÊ≤°ÊúâÊåáÂÆöË∑ØÂæÑÔºåÊó•ÂøóÈªòËÆ§ÂÜôÂÖ•MysqlÁöÑÊï∞ÊçÆÁõÆÂΩï„ÄÇ</p>
<pre><code>#ÈÖçÁΩÆÂºÄÂêØbinlogÊó•ÂøóÔºå Êó•ÂøóÁöÑÊñá‰ª∂ÂâçÁºÄ‰∏∫ mysqlbin -----&gt; ÁîüÊàêÁöÑÊñá‰ª∂ÂêçÂ¶Ç : mysqlbin.000001,mysqlbin.000002
log_bin=mysqlbin

#ÈÖçÁΩÆ‰∫åËøõÂà∂Êó•ÂøóÁöÑÊ†ºÂºè
binlog_format=STATEMENT

</code></pre><h5 id="2-2-2-Êó•ÂøóÊ†ºÂºè"><a href="#2-2-2-Êó•ÂøóÊ†ºÂºè" class="headerlink" title="2.2.2 Êó•ÂøóÊ†ºÂºè"></a>2.2.2 Êó•ÂøóÊ†ºÂºè</h5><p><strong>STATEMENT</strong></p>
<p>ËØ•Êó•ÂøóÊ†ºÂºèÂú®Êó•ÂøóÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁöÑÈÉΩÊòØSQLËØ≠Âè•ÔºàstatementÔºâÔºåÊØè‰∏ÄÊù°ÂØπÊï∞ÊçÆËøõË°å‰øÆÊîπÁöÑSQLÈÉΩ‰ºöËÆ∞ÂΩïÂú®Êó•ÂøóÊñá‰ª∂‰∏≠ÔºåÈÄöËøáMysqlÊèê‰æõÁöÑmysqlbinlogÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Ê∏ÖÊô∞ÁöÑÊü•ÁúãÂà∞ÊØèÊù°ËØ≠Âè•ÁöÑÊñáÊú¨„ÄÇ‰∏ª‰ªéÂ§çÂà∂ÁöÑÊó∂ÂÄôÔºå‰ªéÂ∫ìÔºàslaveÔºâ‰ºöÂ∞ÜÊó•ÂøóËß£Êûê‰∏∫ÂéüÊñáÊú¨ÔºåÂπ∂Âú®‰ªéÂ∫ìÈáçÊñ∞ÊâßË°å‰∏ÄÊ¨°„ÄÇ</p>
<p><strong>ROW</strong></p>
<p>ËØ•Êó•ÂøóÊ†ºÂºèÂú®Êó•ÂøóÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁöÑÊòØÊØè‰∏ÄË°åÁöÑÊï∞ÊçÆÂèòÊõ¥ÔºåËÄå‰∏çÊòØËÆ∞ÂΩïSQLËØ≠Âè•„ÄÇÊØîÂ¶ÇÔºåÊâßË°åSQLËØ≠Âè• Ôºö update tb_book set status=‚Äô1‚Äô , Â¶ÇÊûúÊòØSTATEMENT Êó•ÂøóÊ†ºÂºèÔºåÂú®Êó•Âøó‰∏≠‰ºöËÆ∞ÂΩï‰∏ÄË°åSQLÊñá‰ª∂Ôºõ Â¶ÇÊûúÊòØROWÔºåÁî±‰∫éÊòØÂØπÂÖ®Ë°®ËøõË°åÊõ¥Êñ∞Ôºå‰πüÂ∞±ÊòØÊØè‰∏ÄË°åËÆ∞ÂΩïÈÉΩ‰ºöÂèëÁîüÂèòÊõ¥ÔºåROW Ê†ºÂºèÁöÑÊó•Âøó‰∏≠‰ºöËÆ∞ÂΩïÊØè‰∏ÄË°åÁöÑÊï∞ÊçÆÂèòÊõ¥„ÄÇ</p>
<p><strong>MIXED</strong></p>
<p>ËøôÊòØÁõÆÂâçMySQLÈªòËÆ§ÁöÑÊó•ÂøóÊ†ºÂºèÔºåÂç≥Ê∑∑Âêà‰∫ÜSTATEMENT Âíå ROW‰∏§ÁßçÊ†ºÂºè„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÈááÁî®STATEMENTÔºå‰ΩÜÊòØÂú®‰∏Ä‰∫õÁâπÊÆäÊÉÖÂÜµ‰∏ãÈááÁî®ROWÊù•ËøõË°åËÆ∞ÂΩï„ÄÇMIXED Ê†ºÂºèËÉΩÂ∞ΩÈáèÂà©Áî®‰∏§ÁßçÊ®°ÂºèÁöÑ‰ºòÁÇπÔºåËÄåÈÅøÂºÄ‰ªñ‰ª¨ÁöÑÁº∫ÁÇπ„ÄÇ</p>
<h5 id="2-2-3-Êó•ÂøóËØªÂèñ"><a href="#2-2-3-Êó•ÂøóËØªÂèñ" class="headerlink" title="2.2.3 Êó•ÂøóËØªÂèñ"></a>2.2.3 Êó•ÂøóËØªÂèñ</h5><p>Áî±‰∫éÊó•Âøó‰ª•‰∫åËøõÂà∂ÊñπÂºèÂ≠òÂÇ®Ôºå‰∏çËÉΩÁõ¥Êé•ËØªÂèñÔºåÈúÄË¶ÅÁî®mysqlbinlogÂ∑•ÂÖ∑Êù•Êü•ÁúãÔºåËØ≠Ê≥ïÂ¶Ç‰∏ã Ôºö</p>
<pre><code>mysqlbinlog log-fileÔºõ

</code></pre><p><strong>Êü•ÁúãSTATEMENTÊ†ºÂºèÊó•Âøó</strong> </p>
<p>ÊâßË°åÊèíÂÖ•ËØ≠Âè• Ôºö</p>
<pre class=" language-SQL"><code class="language-SQL">insert into tb_book values(null,'Lucene','2088-05-01','0');
</code></pre>
<p> Êü•ÁúãÊó•ÂøóÊñá‰ª∂ Ôºö</p>
<p><img src="/2021/01/23/mysql-advanced-4/1554079717375.png" alt="1554079717375"> </p>
<p>mysqlbin.index : ËØ•Êñá‰ª∂ÊòØÊó•ÂøóÁ¥¢ÂºïÊñá‰ª∂ Ôºå ËÆ∞ÂΩïÊó•ÂøóÁöÑÊñá‰ª∂ÂêçÔºõ</p>
<p>mysqlbing.000001 ÔºöÊó•ÂøóÊñá‰ª∂</p>
<p>Êü•ÁúãÊó•ÂøóÂÜÖÂÆπ Ôºö</p>
<pre><code>mysqlbinlog mysqlbing.000001Ôºõ

</code></pre><p><img src="/2021/01/23/mysql-advanced-4/1554080016778.png" alt="1554080016778"> </p>
<p><strong>Êü•ÁúãROWÊ†ºÂºèÊó•Âøó</strong></p>
<p>ÈÖçÁΩÆ :</p>
<pre><code>#ÈÖçÁΩÆÂºÄÂêØbinlogÊó•ÂøóÔºå Êó•ÂøóÁöÑÊñá‰ª∂ÂâçÁºÄ‰∏∫ mysqlbin -----&gt; ÁîüÊàêÁöÑÊñá‰ª∂ÂêçÂ¶Ç : mysqlbin.000001,mysqlbin.000002
log_bin=mysqlbin

#ÈÖçÁΩÆ‰∫åËøõÂà∂Êó•ÂøóÁöÑÊ†ºÂºè
binlog_format=ROW

</code></pre><p>ÊèíÂÖ•Êï∞ÊçÆ :</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> tb_book <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'SpringCloudÂÆûÊàò'</span><span class="token punctuation">,</span><span class="token string">'2088-05-05'</span><span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Â¶ÇÊûúÊó•ÂøóÊ†ºÂºèÊòØ ROW , Áõ¥Êé•Êü•ÁúãÊï∞ÊçÆ , ÊòØÊü•Áúã‰∏çÊáÇÁöÑ ; ÂèØ‰ª•Âú®mysqlbinlog ÂêéÈù¢Âä†‰∏äÂèÇÊï∞ -vv  </p>
<pre class=" language-SQL"><code class="language-SQL">mysqlbinlog -vv mysqlbin.000002 
</code></pre>
<p><img src="/2021/01/23/mysql-advanced-4/1554095452022.png" alt="1554095452022"> </p>
<h5 id="2-2-4-Êó•ÂøóÂà†Èô§"><a href="#2-2-4-Êó•ÂøóÂà†Èô§" class="headerlink" title="2.2.4 Êó•ÂøóÂà†Èô§"></a>2.2.4 Êó•ÂøóÂà†Èô§</h5><p>ÂØπ‰∫éÊØîËæÉÁπÅÂøôÁöÑÁ≥ªÁªüÔºåÁî±‰∫éÊØèÂ§©ÁîüÊàêÊó•ÂøóÈáèÂ§ß ÔºåËøô‰∫õÊó•ÂøóÂ¶ÇÊûúÈïøÊó∂Èó¥‰∏çÊ∏ÖÊ•öÔºåÂ∞Ü‰ºöÂç†Áî®Â§ßÈáèÁöÑÁ£ÅÁõòÁ©∫Èó¥„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞Ü‰ºöËÆ≤Ëß£Âá†ÁßçÂà†Èô§Êó•ÂøóÁöÑÂ∏∏ËßÅÊñπÊ≥ï Ôºö</p>
<p><strong>ÊñπÂºè‰∏Ä</strong> </p>
<p>ÈÄöËøá Reset Master Êåá‰ª§Âà†Èô§ÂÖ®ÈÉ® binlog Êó•ÂøóÔºåÂà†Èô§‰πãÂêéÔºåÊó•ÂøóÁºñÂè∑ÔºåÂ∞Ü‰ªé xxxx.000001ÈáçÊñ∞ÂºÄÂßã „ÄÇ</p>
<p>Êü•ËØ¢‰πãÂâç ÔºåÂÖàÊü•ËØ¢‰∏ãÊó•ÂøóÊñá‰ª∂ Ôºö </p>
<p><img src="/2021/01/23/mysql-advanced-4/1554118609489.png" alt="1554118609489">   </p>
<p>ÊâßË°åÂà†Èô§Êó•ÂøóÊåá‰ª§Ôºö </p>
<pre><code>Reset Master
</code></pre><p>ÊâßË°å‰πãÂêéÔºå Êü•ÁúãÊó•ÂøóÊñá‰ª∂ Ôºö</p>
<p><img src="/2021/01/23/mysql-advanced-4/1554118675264.png" alt="1554118675264"> </p>
<p><strong>ÊñπÂºè‰∫å</strong></p>
<p>ÊâßË°åÊåá‰ª§ <code>purge  master logs to 'mysqlbin.******'</code> ÔºåËØ•ÂëΩ‰ª§Â∞ÜÂà†Èô§  <code>******</code> ÁºñÂè∑‰πãÂâçÁöÑÊâÄÊúâÊó•Âøó„ÄÇ </p>
<p><strong>ÊñπÂºè‰∏â</strong></p>
<p>ÊâßË°åÊåá‰ª§ <code>purge master logs before 'yyyy-mm-dd hh24:mi:ss'</code> ÔºåËØ•ÂëΩ‰ª§Â∞ÜÂà†Èô§Êó•Âøó‰∏∫ ‚Äúyyyy-mm-dd hh24:mi:ss‚Äù ‰πãÂâç‰∫ßÁîüÁöÑÊâÄÊúâÊó•Âøó „ÄÇ</p>
<p><strong>ÊñπÂºèÂõõ</strong></p>
<p>ËÆæÁΩÆÂèÇÊï∞ ‚Äìexpire_logs_days=# ÔºåÊ≠§ÂèÇÊï∞ÁöÑÂê´‰πâÊòØËÆæÁΩÆÊó•ÂøóÁöÑËøáÊúüÂ§©Êï∞Ôºå Ëøá‰∫ÜÊåáÂÆöÁöÑÂ§©Êï∞ÂêéÊó•ÂøóÂ∞Ü‰ºöË¢´Ëá™Âä®Âà†Èô§ÔºåËøôÊ†∑Â∞ÜÊúâÂà©‰∫éÂáèÂ∞ëDBA ÁÆ°ÁêÜÊó•ÂøóÁöÑÂ∑•‰ΩúÈáè„ÄÇ</p>
<p>ÈÖçÁΩÆÂ¶Ç‰∏ã Ôºö </p>
<p><img src="/2021/01/23/mysql-advanced-4/1554125506938.png" alt="1554125506938"> </p>
<h4 id="2-3-Êü•ËØ¢Êó•Âøó"><a href="#2-3-Êü•ËØ¢Êó•Âøó" class="headerlink" title="2.3 Êü•ËØ¢Êó•Âøó"></a>2.3 Êü•ËØ¢Êó•Âøó</h4><p>Êü•ËØ¢Êó•Âøó‰∏≠ËÆ∞ÂΩï‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÊâÄÊúâÊìç‰ΩúËØ≠Âè•ÔºåËÄå‰∫åËøõÂà∂Êó•Âøó‰∏çÂåÖÂê´Êü•ËØ¢Êï∞ÊçÆÁöÑSQLËØ≠Âè•„ÄÇ</p>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå Êü•ËØ¢Êó•ÂøóÊòØÊú™ÂºÄÂêØÁöÑ„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂºÄÂêØÊü•ËØ¢Êó•ÂøóÔºåÂèØ‰ª•ËÆæÁΩÆ‰ª•‰∏ãÈÖçÁΩÆ Ôºö</p>
<pre><code>#ËØ•ÈÄâÈ°πÁî®Êù•ÂºÄÂêØÊü•ËØ¢Êó•Âøó Ôºå ÂèØÈÄâÂÄº Ôºö 0 ÊàñËÄÖ 1 Ôºõ 0 ‰ª£Ë°®ÂÖ≥Èó≠Ôºå 1 ‰ª£Ë°®ÂºÄÂêØ 
general_log=1

#ËÆæÁΩÆÊó•ÂøóÁöÑÊñá‰ª∂Âêç Ôºå Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÔºå ÈªòËÆ§ÁöÑÊñá‰ª∂Âêç‰∏∫ host_name.log 
general_log_file=file_name

</code></pre><p>Âú® mysql ÁöÑÈÖçÁΩÆÊñá‰ª∂ /usr/my.cnf ‰∏≠ÈÖçÁΩÆÂ¶Ç‰∏ãÂÜÖÂÆπ Ôºö </p>
<p><img src="/2021/01/23/mysql-advanced-4/1554128184632.png" alt="1554128184632"> </p>
<p>ÈÖçÁΩÆÂÆåÊØï‰πãÂêéÔºåÂú®Êï∞ÊçÆÂ∫ìÊâßË°å‰ª•‰∏ãÊìç‰Ωú Ôºö</p>
<pre><code>select * from tb_book;
select * from tb_book where id = 1;
update tb_book set name = 'luceneÂÖ•Èó®ÊåáÂçó' where id = 5;
select * from tb_book where id &lt; 8;

</code></pre><p>ÊâßË°åÂÆåÊØï‰πãÂêéÔºå ÂÜçÊ¨°Êù•Êü•ËØ¢Êó•ÂøóÊñá‰ª∂ Ôºö </p>
<p><img src="/2021/01/23/mysql-advanced-4/1554128089851.png" alt="1554128089851"> </p>
<h4 id="2-4-ÊÖ¢Êü•ËØ¢Êó•Âøó"><a href="#2-4-ÊÖ¢Êü•ËØ¢Êó•Âøó" class="headerlink" title="2.4 ÊÖ¢Êü•ËØ¢Êó•Âøó"></a>2.4 ÊÖ¢Êü•ËØ¢Êó•Âøó</h4><p>ÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩï‰∫ÜÊâÄÊúâÊâßË°åÊó∂Èó¥Ë∂ÖËøáÂèÇÊï∞ long_query_time ËÆæÁΩÆÂÄºÂπ∂‰∏îÊâ´ÊèèËÆ∞ÂΩïÊï∞‰∏çÂ∞è‰∫é min_examined_row_limit ÁöÑÊâÄÊúâÁöÑSQLËØ≠Âè•ÁöÑÊó•Âøó„ÄÇlong_query_time ÈªòËÆ§‰∏∫ 10 ÁßíÔºåÊúÄÂ∞è‰∏∫ 0Ôºå Á≤æÂ∫¶ÂèØ‰ª•Âà∞ÂæÆÁßí„ÄÇ</p>
<h5 id="2-4-1-Êñá‰ª∂‰ΩçÁΩÆÂíåÊ†ºÂºè"><a href="#2-4-1-Êñá‰ª∂‰ΩçÁΩÆÂíåÊ†ºÂºè" class="headerlink" title="2.4.1 Êñá‰ª∂‰ΩçÁΩÆÂíåÊ†ºÂºè"></a>2.4.1 Êñá‰ª∂‰ΩçÁΩÆÂíåÊ†ºÂºè</h5><p>ÊÖ¢Êü•ËØ¢Êó•ÂøóÈªòËÆ§ÊòØÂÖ≥Èó≠ÁöÑ „ÄÇÂèØ‰ª•ÈÄöËøá‰∏§‰∏™ÂèÇÊï∞Êù•ÊéßÂà∂ÊÖ¢Êü•ËØ¢Êó•Âøó Ôºö</p>
<pre><code># ËØ•ÂèÇÊï∞Áî®Êù•ÊéßÂà∂ÊÖ¢Êü•ËØ¢Êó•ÂøóÊòØÂê¶ÂºÄÂêØÔºå ÂèØÂèñÂÄºÔºö 1 Âíå 0 Ôºå 1 ‰ª£Ë°®ÂºÄÂêØÔºå 0 ‰ª£Ë°®ÂÖ≥Èó≠
slow_query_log=1 

# ËØ•ÂèÇÊï∞Áî®Êù•ÊåáÂÆöÊÖ¢Êü•ËØ¢Êó•ÂøóÁöÑÊñá‰ª∂Âêç
slow_query_log_file=slow_query.log

# ËØ•ÈÄâÈ°πÁî®Êù•ÈÖçÁΩÆÊü•ËØ¢ÁöÑÊó∂Èó¥ÈôêÂà∂Ôºå Ë∂ÖËøáËøô‰∏™Êó∂Èó¥Â∞ÜËÆ§‰∏∫ÂÄºÊÖ¢Êü•ËØ¢Ôºå Â∞ÜÈúÄË¶ÅËøõË°åÊó•ÂøóËÆ∞ÂΩïÔºå ÈªòËÆ§10s
long_query_time=10

</code></pre><h5 id="2-4-2-Êó•ÂøóÁöÑËØªÂèñ"><a href="#2-4-2-Êó•ÂøóÁöÑËØªÂèñ" class="headerlink" title="2.4.2 Êó•ÂøóÁöÑËØªÂèñ"></a>2.4.2 Êó•ÂøóÁöÑËØªÂèñ</h5><p>ÂíåÈîôËØØÊó•Âøó„ÄÅÊü•ËØ¢Êó•Âøó‰∏ÄÊ†∑ÔºåÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩïÁöÑÊ†ºÂºè‰πüÊòØÁ∫ØÊñáÊú¨ÔºåÂèØ‰ª•Ë¢´Áõ¥Êé•ËØªÂèñ„ÄÇ</p>
<p>1Ôºâ Êü•ËØ¢long_query_time ÁöÑÂÄº„ÄÇ</p>
<p><img src="/2021/01/23/mysql-advanced-4/1554130333472.png" alt="1554130333472"> </p>
<p>2Ôºâ ÊâßË°åÊü•ËØ¢Êìç‰Ωú</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">select</span> id<span class="token punctuation">,</span> title<span class="token punctuation">,</span>price<span class="token punctuation">,</span>num <span class="token punctuation">,</span><span class="token keyword">status</span> <span class="token keyword">from</span> tb_item <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre>
<p><img src="/2021/01/23/mysql-advanced-4/1554130448709.png" alt="1554130448709"></p>
<p>Áî±‰∫éËØ•ËØ≠Âè•ÊâßË°åÊó∂Èó¥ÂæàÁü≠Ôºå‰∏∫0s Ôºå ÊâÄ‰ª•‰∏ç‰ºöËÆ∞ÂΩïÂú®ÊÖ¢Êü•ËØ¢Êó•Âøó‰∏≠„ÄÇ</p>
<pre><code>select * from tb_item where title like '%ÈòøÂ∞îÂç°Áâπ (OT-927) ÁÇ≠Èªë ËÅîÈÄö3GÊâãÊú∫ ÂèåÂç°ÂèåÂæÖ165454%' ;

</code></pre><p><img src="/2021/01/23/mysql-advanced-4/1554130532577.png" alt="1554130532577"> </p>
<p>ËØ•SQLËØ≠Âè• Ôºå ÊâßË°åÊó∂Èïø‰∏∫ 26.77s ÔºåË∂ÖËøá10s Ôºå ÊâÄ‰ª•‰ºöËÆ∞ÂΩïÂú®ÊÖ¢Êü•ËØ¢Êó•ÂøóÊñá‰ª∂‰∏≠„ÄÇ</p>
<p>3Ôºâ Êü•ÁúãÊÖ¢Êü•ËØ¢Êó•ÂøóÊñá‰ª∂</p>
<p>Áõ¥Êé•ÈÄöËøácat Êåá‰ª§Êü•ËØ¢ËØ•Êó•ÂøóÊñá‰ª∂ Ôºö </p>
<p><img src="/2021/01/23/mysql-advanced-4/1554130669360.png" alt="1554130669360"> </p>
<p>Â¶ÇÊûúÊÖ¢Êü•ËØ¢Êó•ÂøóÂÜÖÂÆπÂæàÂ§öÔºå Áõ¥Êé•Êü•ÁúãÊñá‰ª∂ÔºåÊØîËæÉÈ∫ªÁÉ¶Ôºå Ëøô‰∏™Êó∂ÂÄôÂèØ‰ª•ÂÄüÂä©‰∫émysqlËá™Â∏¶ÁöÑ mysqldumpslow Â∑•ÂÖ∑Ôºå Êù•ÂØπÊÖ¢Êü•ËØ¢Êó•ÂøóËøõË°åÂàÜÁ±ªÊ±áÊÄª„ÄÇ </p>
<p><img src="/2021/01/23/mysql-advanced-4/1554130856485.png" alt="1554130856485"> </p>
<h3 id="3-MysqlÂ§çÂà∂"><a href="#3-MysqlÂ§çÂà∂" class="headerlink" title="3. MysqlÂ§çÂà∂"></a>3. MysqlÂ§çÂà∂</h3><h4 id="3-1-Â§çÂà∂Ê¶ÇËø∞"><a href="#3-1-Â§çÂà∂Ê¶ÇËø∞" class="headerlink" title="3.1 Â§çÂà∂Ê¶ÇËø∞"></a>3.1 Â§çÂà∂Ê¶ÇËø∞</h4><p>Â§çÂà∂ÊòØÊåáÂ∞Ü‰∏ªÊï∞ÊçÆÂ∫ìÁöÑDDL Âíå DML Êìç‰ΩúÈÄöËøá‰∫åËøõÂà∂Êó•Âøó‰º†Âà∞‰ªéÂ∫ìÊúçÂä°Âô®‰∏≠ÔºåÁÑ∂ÂêéÂú®‰ªéÂ∫ì‰∏äÂØπËøô‰∫õÊó•ÂøóÈáçÊñ∞ÊâßË°åÔºà‰πüÂè´ÈáçÂÅöÔºâÔºå‰ªéËÄå‰ΩøÂæó‰ªéÂ∫ìÂíå‰∏ªÂ∫ìÁöÑÊï∞ÊçÆ‰øùÊåÅÂêåÊ≠•„ÄÇ</p>
<p>MySQLÊîØÊåÅ‰∏ÄÂè∞‰∏ªÂ∫ìÂêåÊó∂ÂêëÂ§öÂè∞‰ªéÂ∫ìËøõË°åÂ§çÂà∂Ôºå ‰ªéÂ∫ìÂêåÊó∂‰πüÂèØ‰ª•‰Ωú‰∏∫ÂÖ∂‰ªñ‰ªéÊúçÂä°Âô®ÁöÑ‰∏ªÂ∫ìÔºåÂÆûÁé∞ÈìæÁä∂Â§çÂà∂„ÄÇ</p>
<h4 id="3-2-Â§çÂà∂ÂéüÁêÜ"><a href="#3-2-Â§çÂà∂ÂéüÁêÜ" class="headerlink" title="3.2 Â§çÂà∂ÂéüÁêÜ"></a>3.2 Â§çÂà∂ÂéüÁêÜ</h4><p>MySQL ÁöÑ‰∏ª‰ªéÂ§çÂà∂ÂéüÁêÜÂ¶Ç‰∏ã„ÄÇ</p>
<p><img src="/2021/01/23/mysql-advanced-4/1.jpg" alt="1554423698190"> </p>
<p>‰ªé‰∏äÂ±ÇÊù•ÁúãÔºåÂ§çÂà∂ÂàÜÊàê‰∏âÊ≠•Ôºö</p>
<ul>
<li>Master ‰∏ªÂ∫ìÂú®‰∫ãÂä°Êèê‰∫§Êó∂Ôºå‰ºöÊääÊï∞ÊçÆÂèòÊõ¥‰Ωú‰∏∫Êó∂Èó¥ Events ËÆ∞ÂΩïÂú®‰∫åËøõÂà∂Êó•ÂøóÊñá‰ª∂ Binlog ‰∏≠„ÄÇ</li>
<li><p>‰∏ªÂ∫ìÊé®ÈÄÅ‰∫åËøõÂà∂Êó•ÂøóÊñá‰ª∂ Binlog ‰∏≠ÁöÑÊó•Âøó‰∫ã‰ª∂Âà∞‰ªéÂ∫ìÁöÑ‰∏≠ÁªßÊó•Âøó Relay Log „ÄÇ</p>
</li>
<li><p>slaveÈáçÂÅö‰∏≠ÁªßÊó•Âøó‰∏≠ÁöÑ‰∫ã‰ª∂ÔºåÂ∞ÜÊîπÂèòÂèçÊò†ÂÆÉËá™Â∑±ÁöÑÊï∞ÊçÆ„ÄÇ</p>
</li>
</ul>
<h4 id="3-3-Â§çÂà∂‰ºòÂäø"><a href="#3-3-Â§çÂà∂‰ºòÂäø" class="headerlink" title="3.3 Â§çÂà∂‰ºòÂäø"></a>3.3 Â§çÂà∂‰ºòÂäø</h4><p>MySQL Â§çÂà∂ÁöÑÊúâÁÇπ‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ã‰∏â‰∏™ÊñπÈù¢Ôºö</p>
<ul>
<li><p>‰∏ªÂ∫ìÂá∫Áé∞ÈóÆÈ¢òÔºåÂèØ‰ª•Âø´ÈÄüÂàáÊç¢Âà∞‰ªéÂ∫ìÊèê‰æõÊúçÂä°„ÄÇ</p>
</li>
<li><p>ÂèØ‰ª•Âú®‰ªéÂ∫ì‰∏äÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºå‰ªé‰∏ªÂ∫ì‰∏≠Êõ¥Êñ∞ÔºåÂÆûÁé∞ËØªÂÜôÂàÜÁ¶ªÔºåÈôç‰Ωé‰∏ªÂ∫ìÁöÑËÆøÈóÆÂéãÂäõ„ÄÇ</p>
</li>
<li><p>ÂèØ‰ª•Âú®‰ªéÂ∫ì‰∏≠ÊâßË°åÂ§á‰ªΩÔºå‰ª•ÈÅøÂÖçÂ§á‰ªΩÊúüÈó¥ÂΩ±Âìç‰∏ªÂ∫ìÁöÑÊúçÂä°„ÄÇ</p>
</li>
</ul>
<h4 id="3-4-Êê≠Âª∫Ê≠•È™§"><a href="#3-4-Êê≠Âª∫Ê≠•È™§" class="headerlink" title="3.4 Êê≠Âª∫Ê≠•È™§"></a>3.4 Êê≠Âª∫Ê≠•È™§</h4><h5 id="3-4-1-master"><a href="#3-4-1-master" class="headerlink" title="3.4.1 master"></a>3.4.1 master</h5><p>1Ôºâ Âú®master ÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºà/usr/my.cnfÔºâ‰∏≠ÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÂÜÖÂÆπÔºö</p>
<pre class=" language-properties"><code class="language-properties"><span class="token comment" spellcheck="true">#mysql ÊúçÂä°ID,‰øùËØÅÊï¥‰∏™ÈõÜÁæ§ÁéØÂ¢É‰∏≠ÂîØ‰∏Ä</span>
<span class="token attr-name">server-id</span><span class="token punctuation">=</span><span class="token attr-value">1</span>

<span class="token comment" spellcheck="true">#mysql binlog Êó•ÂøóÁöÑÂ≠òÂÇ®Ë∑ØÂæÑÂíåÊñá‰ª∂Âêç</span>
<span class="token attr-name">log-bin</span><span class="token punctuation">=</span><span class="token attr-value">/var/lib/mysql/mysqlbin</span>

<span class="token comment" spellcheck="true">#ÈîôËØØÊó•Âøó,ÈªòËÆ§Â∑≤ÁªèÂºÄÂêØ</span>
<span class="token comment" spellcheck="true">#log-err</span>

<span class="token comment" spellcheck="true">#mysqlÁöÑÂÆâË£ÖÁõÆÂΩï</span>
<span class="token comment" spellcheck="true">#basedir</span>

<span class="token comment" spellcheck="true">#mysqlÁöÑ‰∏¥Êó∂ÁõÆÂΩï</span>
<span class="token comment" spellcheck="true">#tmpdir</span>

<span class="token comment" spellcheck="true">#mysqlÁöÑÊï∞ÊçÆÂ≠òÊîæÁõÆÂΩï</span>
<span class="token comment" spellcheck="true">#datadir</span>

<span class="token comment" spellcheck="true">#ÊòØÂê¶Âè™ËØª,1 ‰ª£Ë°®Âè™ËØª, 0 ‰ª£Ë°®ËØªÂÜô</span>
<span class="token attr-name">read-only</span><span class="token punctuation">=</span><span class="token attr-value">0</span>

<span class="token comment" spellcheck="true">#ÂøΩÁï•ÁöÑÊï∞ÊçÆ, Êåá‰∏çÈúÄË¶ÅÂêåÊ≠•ÁöÑÊï∞ÊçÆÂ∫ì</span>
<span class="token attr-name">binlog-ignore-db</span><span class="token punctuation">=</span><span class="token attr-value">mysql</span>

<span class="token comment" spellcheck="true">#ÊåáÂÆöÂêåÊ≠•ÁöÑÊï∞ÊçÆÂ∫ì</span>
<span class="token comment" spellcheck="true">#binlog-do-db=db01</span>
</code></pre>
<p>2Ôºâ ÊâßË°åÂÆåÊØï‰πãÂêéÔºåÈúÄË¶ÅÈáçÂêØMysqlÔºö</p>
<pre class=" language-sql"><code class="language-sql">service mysql restart Ôºõ
</code></pre>
<p>3Ôºâ ÂàõÂª∫ÂêåÊ≠•Êï∞ÊçÆÁöÑË¥¶Êà∑ÔºåÂπ∂‰∏îËøõË°åÊéàÊùÉÊìç‰ΩúÔºö</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">grant</span> <span class="token keyword">replication</span> slave <span class="token keyword">on</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">'itcast'</span>@'<span class="token number">192.168</span><span class="token punctuation">.</span><span class="token number">192.131</span><span class="token string">' identified by '</span>itcast'<span class="token punctuation">;</span>    

flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre>
<p>4Ôºâ Êü•ÁúãmasterÁä∂ÊÄÅÔºö</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">show</span> master <span class="token keyword">status</span><span class="token punctuation">;</span>
</code></pre>
<p><img src="/2021/01/23/mysql-advanced-4/1554477759735.png" alt="1554477759735"> </p>
<p>Â≠óÊÆµÂê´‰πâÔºö</p>
<pre><code>File : ‰ªéÂì™‰∏™Êó•ÂøóÊñá‰ª∂ÂºÄÂßãÊé®ÈÄÅÊó•ÂøóÊñá‰ª∂ 
Position Ôºö ‰ªéÂì™‰∏™‰ΩçÁΩÆÂºÄÂßãÊé®ÈÄÅÊó•Âøó
Binlog_Ignore_DB : ÊåáÂÆö‰∏çÈúÄË¶ÅÂêåÊ≠•ÁöÑÊï∞ÊçÆÂ∫ì
</code></pre><h5 id="3-4-2-slave"><a href="#3-4-2-slave" class="headerlink" title="3.4.2 slave"></a>3.4.2 slave</h5><p>1Ôºâ Âú® slave Á´ØÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÈÖçÁΩÆÂ¶Ç‰∏ãÂÜÖÂÆπÔºö</p>
<pre class=" language-properties"><code class="language-properties"><span class="token comment" spellcheck="true">#mysqlÊúçÂä°Á´ØID,ÂîØ‰∏Ä</span>
<span class="token attr-name">server-id</span><span class="token punctuation">=</span><span class="token attr-value">2</span>

<span class="token comment" spellcheck="true">#ÊåáÂÆöbinlogÊó•Âøó</span>
<span class="token attr-name">log-bin</span><span class="token punctuation">=</span><span class="token attr-value">/var/lib/mysql/mysqlbin</span>
</code></pre>
<p>2Ôºâ  ÊâßË°åÂÆåÊØï‰πãÂêéÔºåÈúÄË¶ÅÈáçÂêØMysqlÔºö</p>
<pre><code>service mysql restartÔºõ
</code></pre><p>3Ôºâ ÊâßË°åÂ¶Ç‰∏ãÊåá‰ª§ Ôºö</p>
<pre class=" language-sql"><code class="language-sql">change master <span class="token keyword">to</span> master_host<span class="token operator">=</span> <span class="token string">'192.168.192.130'</span><span class="token punctuation">,</span> master_user<span class="token operator">=</span><span class="token string">'itcast'</span><span class="token punctuation">,</span> master_password<span class="token operator">=</span><span class="token string">'itcast'</span><span class="token punctuation">,</span> master_log_file<span class="token operator">=</span><span class="token string">'mysqlbin.000001'</span><span class="token punctuation">,</span> master_log_pos<span class="token operator">=</span><span class="token number">413</span><span class="token punctuation">;</span>
</code></pre>
<p>ÊåáÂÆöÂΩìÂâç‰ªéÂ∫ìÂØπÂ∫îÁöÑ‰∏ªÂ∫ìÁöÑIPÂú∞ÂùÄÔºåÁî®Êà∑ÂêçÔºåÂØÜÁ†ÅÔºå‰ªéÂì™‰∏™Êó•ÂøóÊñá‰ª∂ÂºÄÂßãÁöÑÈÇ£‰∏™‰ΩçÁΩÆÂºÄÂßãÂêåÊ≠•Êé®ÈÄÅÊó•Âøó„ÄÇ</p>
<p>4Ôºâ ÂºÄÂêØÂêåÊ≠•Êìç‰Ωú</p>
<pre><code>start slave;

show slave status;
</code></pre><p><img src="/2021/01/23/mysql-advanced-4/1554479387365.png" alt="1554479387365"> </p>
<p>5Ôºâ ÂÅúÊ≠¢ÂêåÊ≠•Êìç‰Ωú</p>
<pre><code>stop slave;
</code></pre><h5 id="3-4-3-È™åËØÅÂêåÊ≠•Êìç‰Ωú"><a href="#3-4-3-È™åËØÅÂêåÊ≠•Êìç‰Ωú" class="headerlink" title="3.4.3 È™åËØÅÂêåÊ≠•Êìç‰Ωú"></a>3.4.3 È™åËØÅÂêåÊ≠•Êìç‰Ωú</h5><p>1Ôºâ Âú®‰∏ªÂ∫ì‰∏≠ÂàõÂª∫Êï∞ÊçÆÂ∫ìÔºåÂàõÂª∫Ë°®ÔºåÂπ∂ÊèíÂÖ•Êï∞ÊçÆ Ôºö</p>
<pre class=" language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token number">db01</span><span class="token punctuation">;</span>

<span class="token keyword">user</span> <span class="token number">db01</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">user</span><span class="token punctuation">(</span>
    id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    sex <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">engine</span><span class="token operator">=</span><span class="token keyword">innodb</span> <span class="token keyword">default</span> <span class="token keyword">charset</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'Trigger'</span><span class="token punctuation">,</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>sex<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'Dawn'</span><span class="token punctuation">,</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>2Ôºâ Âú®‰ªéÂ∫ì‰∏≠Êü•ËØ¢Êï∞ÊçÆÔºåËøõË°åÈ™åËØÅ Ôºö</p>
<p>Âú®‰ªéÂ∫ì‰∏≠ÔºåÂèØ‰ª•Êü•ÁúãÂà∞ÂàöÊâçÂàõÂª∫ÁöÑÊï∞ÊçÆÂ∫ìÔºö</p>
<p><img src="/2021/01/23/mysql-advanced-4/1554544658640.png" alt="1554544658640"> </p>
<p>Âú®ËØ•Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÊü•ËØ¢userË°®‰∏≠ÁöÑÊï∞ÊçÆÔºö</p>
<p><img src="/2021/01/23/mysql-advanced-4/1554544679538.png" alt="1554544679538"> </p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">Ëµè</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">‰Ω†ÁöÑËµûËµèÊòØÊàëÂâçËøõÁöÑÂä®Âäõ</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">ÊîØ‰ªòÂÆù</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">ÂæÆ ‰ø°</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="ÊîØ‰ªòÂÆùÊâìËµè‰∫åÁª¥Á†Å">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="ÂæÆ‰ø°ÊâìËµè‰∫åÁª¥Á†Å">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>ÂæÆ‰ø°Êâ´‰∏ÄÊâ´Âç≥ÂèØÂàÜ‰∫´ÔºÅ</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>


            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fas fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>Reprint policy</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">
                    <img alt="Creative Commons License"
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <a  href="/2021/01/23/mysql-advanced-4/">
                „ÄäMySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(Âõõ)„Äã
            </a> by
            <a href="http://blog.tanguo.store">
                571
            </a> is licensed under a
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
                Creative Commons Attribution 4.0 International License
            </a> 
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '843180bdbc2c6029a73e',
        clientSecret: '88c515826a23e788f3f69d9ed440e9c82a263918',
        repo: 'feelingWu.github.io',
        owner: 'feelingWu',
        admin: "feelingWu",
        id: '2021-01-23T09-57-01',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2021/02/21/3ordercube/">
                    <div class="card-image">
                        
                        <img src="/cover/" class="responsive-img" alt="‰∏âÈò∂È≠îÊñπÊïôÁ®ã">
                        
                        <span class="card-title">‰∏âÈò∂È≠îÊñπÊïôÁ®ã</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
‰∏âÈò∂È≠îÊñπÊòØÁé©‰ªªÊÑèÈò∂È≠îÊñπÁöÑÂü∫Á°Ä

ÂÖ¨ÂºèÊ¶ÇËßàÔºöÂÖ¨Âºè‰∏Ä(Â∞èËä±„ÄÅÁôΩÂçÅÂ≠ó„ÄÅÁôΩÈù¢Â∫ï)Ôºö‰∏äÂ∑¶‰∏ãÂè≥
ÂÖ¨Âºè‰∫å(‰∏≠Èó¥Â±Ç)Ôºö‰∏äÂè≥‰∏ãÂ∑¶
ÂÖ¨Âºè‰∏â(ÈªÑÂçÅÂ≠ó)ÔºöÊ≠£Èù¢È°∫Êó∂ÈíàËΩ¨90Â∫¶ÔºåÂÖ¨Âºè‰∏ÄÔºà‰∏äÂ∑¶‰∏ãÂè≥ÔºâÔºåÈÄÜÊó∂ÈíàËΩ¨90Â∫¶ÂõûÂéª
ÂÖ¨ÂºèÂõõ(Â∞èÈ±º„ÄÅÈªÑÈù¢)Ôºö‰∏ãÂè≥‰∏äÂè≥Ôºå‰∏ãÂè≥Âè≥‰∏ä
ÂÖ¨Âºè‰∫î
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-02-21
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Â®±‰πê/" class="post-category">
                                    Â®±‰πê
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/‰∏âÈò∂/">
                        <span class="chip bg-color">‰∏âÈò∂</span>
                    </a>
                    
                    <a href="/tags/È≠îÊñπ/">
                        <span class="chip bg-color">È≠îÊñπ</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/01/23/mysql-advanced-3/">
                    <div class="card-image">
                        
                        <img src="/cover/" class="responsive-img" alt="MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(‰∏â)">
                        
                        <span class="card-title">MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(‰∏â)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
ÈùûÂéüÂàõÂõæÊñá,ÂõæÊñáÊù•Ê∫ê‰∫éÈªëÈ©¨ÂÆòÁΩë,Ê≠§Â§Ñ‰ªÖ‰Ωú‰∏∫Â§á‰ªΩÂ≠¶‰π†


MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñÊÄªÊ¶Ç


ÁªÑÂêàÊã≥Ôºà‰∏ÄÔºâ
ÁªÑÂêàÊã≥Ôºà‰∫åÔºâ
üö©ÁªÑÂêàÊã≥Ôºà‰∏âÔºâ
ÁªÑÂêàÊã≥ÔºàÂõõÔºâ




Á¥¢Âºï
‰ΩìÁ≥ªÁªìÊûÑ
Â∫îÁî®‰ºòÂåñ
MySQL Â∏∏Áî®Â∑•ÂÖ∑


ËßÜÂõæ
Â≠òÂÇ®ÂºïÊìé
Êü•ËØ¢ÁºìÂ≠ò‰ºòÂåñ
M
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-01-23
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Êï∞ÊçÆÂ∫ì/" class="post-category">
                                    Êï∞ÊçÆÂ∫ì
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥-‰∏â/">
                        <span class="chip bg-color">MySQLÊï∞ÊçÆÂ∫ì‰ºòÂåñ‰πãÁªÑÂêàÊã≥(‰∏â)</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC ÊÇ¨ÊµÆÊåâÈíÆ. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ‰øÆÂ§çÊñáÁ´†Âç°Áâá div ÁöÑÂÆΩÂ∫¶. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // ÂàáÊç¢TOCÁõÆÂΩïÂ±ïÂºÄÊî∂Áº©ÁöÑÁõ∏ÂÖ≥Êìç‰Ωú.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">Âπ¥‰ªΩ</span>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;Á´ôÁÇπÊÄªÂ≠óÊï∞:&nbsp;<span
                class="white-color">55.5k</span>&nbsp;Â≠ó
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;ÊÄªËÆøÈóÆÈáè:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;Ê¨°
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;ÊÄªËÆøÈóÆ‰∫∫Êï∞:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;‰∫∫
            </span>
            
            <br>
            
            <span id="sitetime">ËΩΩÂÖ•ËøêË°åÊó∂Èó¥...</span>
            <script>
                function siteTime() {
                    window.setTimeout("siteTime()", 1000);
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "6";
                    var startDate = "28";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å " + diffDays + " Â§© " + diffHours +
                            " Â∞èÊó∂ " + diffMinutes + " ÂàÜÈíü " + diffSeconds + " Áßí";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å " + diffYears + " Âπ¥ " + diffDays +
                            " Â§© " + diffHours + " Â∞èÊó∂ " + diffMinutes + " ÂàÜÈíü " + diffSeconds + " Áßí";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/feelingWu/feelingWu.github.io" class="tooltipped" target="_blank" data-tooltip="ËÆøÈóÆÊàëÁöÑGitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:ivar571@foxmail.com" class="tooltipped" target="_blank" data-tooltip="ÈÇÆ‰ª∂ËÅîÁ≥ªÊàë" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS ËÆ¢ÈòÖ" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- ÊêúÁ¥¢ÈÅÆÁΩ©Ê°Ü -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- ÂõûÂà∞È°∂ÈÉ®ÊåâÈíÆ -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->


    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    
    <script>
        (function (i, s, o, g, r, a, m) {
            i["DaoVoiceObject"] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            a.charset = "utf-8";
            m.parentNode.insertBefore(a, m)
        })(window, document, "script", ('https:' == document.location.protocol ? 'https:' : 'http:') +
            "//widget.daovoice.io/widget/6984b559.js", "daovoice")
        daovoice('init', {
            app_id: "0cccb8f3"
        });
        daovoice('update');
    </script>
    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    

</body>

</html>
